<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>可排序的目录树</title>
<style>
  body {
    font-family: Arial, sans-serif;
    line-height: 1.6;
  }
  .tree-list {
    list-style: none;
    padding-left: 20px;
  }
  .tree-item, .file-item {
    cursor: pointer;
    line-height: 2;
  }
  .toggle-icon {
    margin-right: 5px;
    font-size: 1.2em;
    font-weight: bold;
    display: inline-block;
    width: 15px;
    text-align: center;
  }
  .item-name {
    margin-left: 5px;
  }
  .collapsed > .tree-list, .file-item.collapsed > .file-content {
    display: none;
  }
  .file-content {
    padding-left: 30px;
    white-space: pre-wrap;
    border-left: 1px solid #ccc;
    margin-left: 10px;
  }
  .sort-button {
    margin: 10px 0;
    padding: 5px 10px;
    cursor: pointer;
  }
</style>
</head>
<body>

<h1>文件目录</h1>

<ul class="tree-list">
  <li class="tree-item collapsed">
    <span class="toggle-icon">+</span>
    <span class="item-name">项目文件夹</span>
    <ul class="tree-list">
      <li class="tree-item">
        <span class="toggle-icon">-</span>
        <span class="item-name">Windows文档</span>
        <button class="sort-button" onclick="sortList(this)">按名称排序</button>
        <ul class="tree-list sortable-list">
          <li class="file-item collapsed">
            <span class="toggle-icon">+</span>
            <span class="item-name">项目计划.xlsx</span>
            <div class="file-content">
              这是项目计划文件内容。
            </div>
          </li>
          <li class="file-item collapsed">
            <span class="toggle-icon">+</span>
            <span class="item-name">su.txt</span>
            <div class="file-content">
              / Su
              / # dd  if=dev/zero of =/dev/blocd/platform/soc/1d84000.ufshc/by-name/laf_a
            </div>
          </li>
          <li class="file-item collapsed">
            <span class="toggle-icon">+</span>
            <span class="item-name">ode 下载说明</span>
            <div class="file-content">
              链接解析--》https://......?pwd=password 
			  开始处理
            </div>
          </li>
        </ul>
      </li>
      <li class="tree-item collapsed">
        <span class="toggle-icon">+</span>
        <span class="item-name">src</span>
        <ul class="tree-list">
          <li>文件1.js</li>
          <li>文件2.css</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<script>
  // 切换展开/折叠功能
  document.addEventListener('DOMContentLoaded', () => {
    const items = document.querySelectorAll('.tree-item, .file-item');

    items.forEach(item => {
      const icon = item.querySelector('.toggle-icon');
      if (icon) {
        icon.addEventListener('click', (event) => {
          event.stopPropagation();
          item.classList.toggle('collapsed');
          icon.textContent = item.classList.contains('collapsed') ? '+' : '−';
        });
      }
    });
  });

  // 排序功能
  function sortList(button) {
    const list = button.nextElementSibling; // 获取紧随按钮的 ul 列表
    if (!list) return;

    const listItems = Array.from(list.children);

    listItems.sort((a, b) => {
      const aName = a.querySelector('.item-name') ? a.querySelector('.item-name').textContent : a.textContent;
      const bName = b.querySelector('.item-name') ? b.querySelector('.item-name').textContent : b.textContent;
      return aName.localeCompare(bName, 'zh-CN', {sensitivity: 'base'});
    });

    listItems.forEach(item => list.appendChild(item));
  }
</script>

</body>
</html>